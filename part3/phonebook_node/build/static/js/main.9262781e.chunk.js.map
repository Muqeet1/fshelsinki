{"version":3,"sources":["Components/Filter.js","Components/PersonForm.js","Components/PersonsList.js","Services/phonedirectory.js","Components/CustomNotification.js","App.js","index.js"],"names":["Filter","value","searchChange","onChange","placeholder","PersonForm","props","name","nameChange","number","numberChange","type","onClick","handleAdd","PersonsList","person","removePerson","map","oneperson","baseUrl","exportAll","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","del","delete","res","Customnotification","notification","className","message","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchValue","setSearchValue","setNotification","useEffect","phonedirectory","personObject","resetForm","customNotifications","setTimeout","handleSearch","filter","toLowerCase","includes","event","target","preventDefault","personName","personExist","find","alert","window","confirm","updatedPerson","console","log","catch","error","concat","delPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9262781e.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({ value, searchChange }) => {\r\n  return (\r\n    <div>\r\n      <p>\r\n        Filter shown with:\r\n        <input value={value} onChange={searchChange} placeholder=\"Enter name\" />\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst PersonForm = (props) => (\r\n  <form>\r\n    <div>\r\n      name: <input value={props.name} onChange={props.nameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={props.number} onChange={props.numberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\" onClick={props.handleAdd}>\r\n        Add\r\n      </button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst PersonsList = ({ person, removePerson }) =>\r\n  person.map((oneperson) => (\r\n    <li key={oneperson.name}>\r\n      {oneperson.name} {oneperson.number}{\" \"}\r\n      <button onClick={() => removePerson(oneperson)}>delete</button>\r\n    </li>\r\n  ));\r\n\r\nexport default PersonsList;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst del = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((res) => res.data);\r\n};\r\n//assigning to a var before exporting\r\nconst exportAll = { getAll, create, update, del };\r\n\r\nexport default exportAll;\r\n","import React from \"react\";\r\n\r\nconst Customnotification = ({ notification }) => {\r\n  if (notification === null) {\r\n    return null;\r\n  }\r\n  return <div className={notification.type}>{notification.message}</div>;\r\n};\r\nexport default Customnotification;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Filter from \"./Components/Filter\";\r\nimport PersonForm from \"./Components/PersonForm\";\r\nimport PersonsList from \"./Components/PersonsList\";\r\nimport phonedirectory from \"./Services/phonedirectory\";\r\nimport Customnotification from \"./Components/CustomNotification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    phonedirectory.getAll().then((res) => {\r\n      setPersons(res);\r\n    });\r\n  }, []);\r\n\r\n  const personObject = {\r\n    name: newName,\r\n    number: newNumber,\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  const customNotifications = (message, type) => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 5000);\r\n  };\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const personName = persons.map((person) => person.name.toLowerCase());\r\n    const personExist = persons.find(\r\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n    );\r\n\r\n    if (newName === \"\" || newNumber === \"\") {\r\n      alert(\"Input fields cannot be empty!\");\r\n    } else if (!personName.includes(newName.toLowerCase())) {\r\n      phonedirectory.create(personObject).then((res) => {\r\n        console.log(\"Successfully Created!\");\r\n        customNotifications(\r\n          `Information of ${newName} is successfully added to the server!`,\r\n          \"success\"\r\n        );\r\n        setPersons(persons.concat(personObject));\r\n        resetForm();\r\n      })\r\n      .catch((error) => {\r\n        customNotifications(error.response.data.error, 'error');\r\n        console.error(\"Request Unsuccessful\");\r\n      });\r\n    } else if (personExist) {\r\n      const alertConfirmation = window.confirm(\r\n        `${personExist.name} is already added to phonebook! Do you want to update the PhoneNumber?`\r\n      );\r\n      if (alertConfirmation) {\r\n        const personObject = {\r\n          ...personExist,\r\n          number: newNumber,\r\n        };\r\n        phonedirectory\r\n          .update(personExist.id, personObject)\r\n          .then((updatedPerson) => {\r\n            console.log(\"Successfully Updated\");\r\n            customNotifications(\r\n              `Information of ${personExist.name} is successfully updated to the server!`,\r\n              \"success\"\r\n            );\r\n            setPersons(\r\n              persons.map((person) =>\r\n                person.id !== personExist.id ? person : updatedPerson\r\n              )\r\n            );\r\n            resetForm();\r\n          })\r\n          .catch((error) => {\r\n            customNotifications(error.response.data.error, 'error');\r\n            console.error(\"Request Unsuccessful\");\r\n          });\r\n      }\r\n    }\r\n  };\r\n\r\n  const removePerson = (delPerson) => {\r\n    const alertConfirmation = window.confirm(\r\n      `Are you sure you want to delete ${delPerson.name}?`\r\n    );\r\n    if (alertConfirmation)\r\n      phonedirectory\r\n        .del(delPerson.id)\r\n\r\n        .then((res) => {\r\n          console.log(\"Successfully Deleted!\");\r\n          customNotifications(\r\n            `Information of ${delPerson.name} is successfully deleted from the server!`,\r\n            \"success\"\r\n          );\r\n          setPersons(persons.filter((person) => person.id !== delPerson.id));\r\n        })\r\n        .catch((error) => {\r\n          customNotifications(error.response.data.error, 'error');\r\n          console.error(\"Request Unsuccessful\");\r\n          setPersons(persons.filter((person) => person.id !== delPerson.id));\r\n        });\r\n  };\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value);\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value);\r\n  const handleSearchChange = (event) => setSearchValue(event.target.value);\r\n\r\n  const handleSearch = persons.filter((person) =>\r\n    person.name.toLowerCase().includes(searchValue.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter value={searchValue} searchChange={handleSearchChange} />\r\n      <Customnotification notification={notification} />\r\n      <PersonForm\r\n        name={newName}\r\n        number={newNumber}\r\n        nameChange={handleNameChange}\r\n        numberChange={handleNumberChange}\r\n        handleAdd={addPerson}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <div>\r\n        <PersonsList person={handleSearch} removePerson={removePerson} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App.js\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}